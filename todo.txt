
cfm cm recover <dir>
cfm cm revert <dir>
cfm metadata rm <dir>
cfm cache rm <dit>

cfm getnew <dir1>[:[no-]metadata][:[no-][<type>-]cache] <dir2>[:metadata][:cache]

by default, cfm getnew <dir1> <dir2> is equivalent to cfm getnew <dir1>:no-metadata:cache <dir2>:no-metadata:cache

:metadata -> for each media file a .metadata file is created, with computed informations
:no-metadata ->
:cache -> a cache with all read metadata information and computed signature is used

	charge dir
	charge album
	
Pour chaque fichier d

MediaDirectory(dir1).read_metadata_files
MediaDirectory(dir1).write_metadata_files
MediaDirectory(dir1).read_cache_file
MediaDirectory(dir1).write_cache_file

Configuration.exif_tool_stdout_file
Configuration.exif_tool_stderr_file
Configuration.avi_meta_edit_stdout_file
Configuration.avi_meta_edit_stderr_file



------------------
utilisation programme

--camera-model,-m check|apply|revert <input-dir>
--reorganize,-r
--duplicate, -d
--compare, -c
--face-recognition, -f
--no-cache, -n

python cfm.py -m check <input-dir>
python cfm.py -m apply <input-dir>
python cfm.py -m revert <input-dir>

python cfm.py -r check <input-dir> <output-dir>
python cfm.py -r apply <input-dir> <output-dir>
python cfmem.py -r revert <input-dir> <output-dir>

=> reorganize: comme pour la lecture, le faire fichier par fichier dans exiftool. Enregistrer dans un fichier la liste des déplacements
=> erreur à détecter

python cfm.py -d check <input-dir>
python cfm.py -d apply <input-dir>
python cfm.py -d revert <input-dir>me

python cfm.py -c check <input-dir> <output-dir>

------------------

[2020-04-24:00h02m30s] Details of input list of files saved in ...

- options avec getopt
- Texte qui dit combien d'éléments vont être mis à jour
- Sauter si 0 éléments
- nom du répertoire de sortie avec un id généré + à la racine un fichier txt avec le path complet traité
- on recherche dans output si un répertoire correspond à celui qu'on traite actuellement (avec le fichier texte à la racine)
- sauver et recharger l'analyse exiftool (option reset pour forcer le re-calcul)
- analyse en profondeur: avec imagemagic, calculer des hash des fichiers

- option pour supprimer les données en cache / ou forcer le recalcul
- fichier de logs de sortie où l'on met toutes les sorties d'appels aux programmes pour la modification.

modification d'un mov ?

CAS d'ERREUR
---